<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <title>Integrated Modeling</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

    <link rel="stylesheet" href="/GeoProblemSolving/element-ui/theme-chalk/index.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/font-awesome/css/font-awesome.min.css">

    <link rel="stylesheet" type="text/css" media="screen" href="/GeoProblemSolving/css/common/fabric/fabric.min.css"/>
    <!--<link rel="stylesheet" href="/GeoProblemSolving/css/common/mdb/mdb.lite.min.css">-->
    <link rel="stylesheet" href="/GeoProblemSolving/css/common/fluent/fluent.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/base/universal.css">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="/GeoProblemSolving/css/common/navbar.css"/> -->
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="/GeoProblemSolving/css/common/footerResponse.css"/> -->
<!--    <link rel="stylesheet" href="/GeoProblemSolving/css/base/style.css">-->
    <link rel="stylesheet" href="/GeoProblemSolving/css/common/fluent/fluent.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/common/wzhStyle.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/common/wzhFlexContainer.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/base/bootstrap.min.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/page/computableModelList.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/base/tree.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/other/bootstrap-select.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/page/model_items.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/page/user_space_out.css">
    <link rel="stylesheet" href="/GeoProblemSolving/css/page/integratedModeling.css">

    <script src="/GeoProblemSolving/js/vue.min.js"></script>
    <script src="/GeoProblemSolving/js/vue-avatar.min.js"></script>
    <script src="/GeoProblemSolving/js/axios.min.js"></script>
    <script th:inline="javascript">
        var computableModelList = [[${computableModelList}]];
        var graphXml = [[${graphXml}]];
        var modelParams = [[${modelParams}]];
        var models = [[${models}]];
        // var allComputableModel =  [[${allComputableModel}]];
    </script>
    <style>
        body {
            /*background: url(/GeoProblemSolving/img/logo/logogrey.png);*/
            /*background-size: contain;*/
            background: #fff3e4;
            margin: 0px;
            background-position-x: center;
            background-position-y: top;
        }

        .el-dropdown.minWidDrop .el-button.el-button--primary.el-button--small:not(.el-dropdown__caret-button){
            min-width: 120px;
        }
        .radius0 .el-input__inner{
            border-radius: 0;
            /*border-width: 1px 0px;*/
        }
        .radius0 input{
            background: #ecf5ff;
        }
        .w350Drawer .el-drawer{
            width: 350px !important;
        }
        .img{
            float:left;
        }
        .img img {
            width: 90px;
            height: 90px;
        }
        .detailIntroducePanel{
            padding: 10px 0 0 0;
            overflow: hidden;
        }
        .comptlModelDetail{
            width: 100%;
        }
        .comptlModelDetail p{
            margin: 0;
        }
    </style>
</head>
<body class="clearfix">
<div id="app" v-cloak>

    <div th:replace="fragments/navbar :: unlog"></div>

    <div>
        <div class="flexRow" style="padding: 5px 5px">
            <div id="MxGraph" ref="mxGraph" class="integratedContained" :class="mxgraphExpand==0?'':'fullScreenMx'" style="flex: 1;">
                <div class="toolBar flexJustBetween flexAlignCenter" style="height: 41px">
                    <div class="flexJustStart">
<!--                        <el-button style="margin:5px;font-weight: 700;color: #009900;" size="small" @click="loadLogicalModelClick()">Load Logical Model</el-button>-->
<!--                        <el-button style="margin:5px;font-weight: 700;color: #009900;" size="small" @click="chooseModelVisible=true">-->
<!--                            Select computable model-->
<!--                        </el-button>-->
                        <!--        <el-button style="margin: 5px;font-weight: 700;color: #009900;" @click="configuration">-->
                        <!--            Input Data Configuration-->
                        <!--        </el-button>-->
                        <!--        <el-button style="margin: 5px;font-weight: 700;color: #009900;" @click="updateMxgraphNode ">-->
                        <!--            Iteration-->
                        <!--        </el-button>-->
                        <!--        <el-button :disabled="executeDisabled" type="success" style="margin:5px;font-weight: 700;"-->
                        <!--                   @click="executeVisible=true">Execution-->
                        <!--        </el-button>-->
                        <el-button type="primary" size="small" style="margin:5px;font-weight: 700;" @click="buildNewTask">Build New Task</el-button>
                        <el-button type="primary" size="small" plain style="margin:5px;font-weight: 700;" @click="loadDeployedModelClick">Select Model</el-button>
                        <el-button type="primary" size="small" plain style="margin:5px;font-weight: 700;" @click="loadDeployedDataMethodClick">Select Data Method</el-button>
                        <el-button type="success" size="small" style="margin:5px;font-weight: 700;" @click="generateXml()">XML</el-button>
                        <el-button type="success" size="small" style="margin:5px;font-weight: 700;" @click="taskConfigure(2)">
                            <i class="fa fa-play-circle" aria-hidden="true"></i> Execute</el-button>
                    </div>
                    <div class="flexJustStart flexAlignCenter">
                        <h5>View: </h5>
                        <el-dropdown
                                split-button
                                class="minWidDrop"
                                type="primary"
                                size="small"
                                trigger="click"
                                @command="selectView" @click="" style="margin-right: 5px">
                            <span style="width: 130px"><i class="fa fa-eye" aria-hidden="true" style="margin-right: 3px"></i>{{currentView}}</span>
                            <el-dropdown-menu slot="dropdown">
                                <el-dropdown-item command="All Items">All Items</el-dropdown-item>
                                <el-dropdown-item command="Model Items">Model Items</el-dropdown-item>
                                <!--                                <el-dropdown-item command="createTime">Create Time</el-dropdown-item>-->
                            </el-dropdown-menu>
                        </el-dropdown>
                        <el-button size="mini"
                                   type="primary"
                                   style="float:right; z-index:3;padding: 7px 8px;margin-right: 5px;"
                                   @click="expandMxgraph"
                        >
                            <i v-if="mxgraphExpand==0" class="fa fa-expand" aria-hidden="true" style="font-size: 15px"></i>
                            <i v-if="mxgraphExpand==1" class="fa fa-compress" aria-hidden="true" style="font-size: 15px"></i>
                        </el-button>
                    </div>

                </div>
                <div class="flexAlignStrench" style="height: calc( 100% - 41px)">
                    <div class="drawerHandler flexCenter" style="left: 210px" @click="handleDrawer">
                        <i v-if="drawerFold" class="fa fa-chevron-right"></i>
                        <i v-else class="fa fa-chevron-left"></i>
                    </div>
                    <div role="itemSelector" class="flex1 itemSelector" style="width: 210px;border-right: 1px solid #e6e6e6;background: white">
<!--                        <el-tabs v-model="itemClassify" @tab-click="changeItem" style="background: #ffffff;height: 100%">-->

                        <div class="el-tabs__header is-top">
                            <div class="el-tabs__nav-wrap is-top">
                                <div class="el-tabs__nav-scroll">
                                    <div role="tablist" class="el-tabs__nav is-top" style="transform: translateX(58px);">
                                        <div class="el-tabs__active-bar is-top"
                                             style="width: 52px; transform: translateX(20px);"></div>
                                        <div id="tab-general" aria-controls="pane-general" role="tab"
                                             aria-selected="true" tabindex="0" class="el-tabs__item is-top is-active">
                                            General
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div label="General" name="general">
                                <p class="noMargin"
                                   style="font-style: italic;color: #888888;text-align: center;font-size: 13px;">
                                    Click cell to add to graph.</p>
                                <div class="flexCol flexAlignCenter" style="width: 100%">
                                    <el-tooltip class="item" effect="dark" content="Start"
                                                placement="right">
                                        <div class="startCell flexCenter" style="margin-top: 15px" @click="addStartToMxgraph">
                                            Start
                                        </div>
                                    </el-tooltip>
                                    <el-tooltip class="item" effect="dark" content="Condition"
                                                placement="right">
                                        <div class="conditionCell flexCenter" style="margin-top: 15px" @click="addCondtionToMxgraph"></div>
                                    </el-tooltip>
                                    <el-tooltip class="item" effect="dark" content="End"
                                                placement="right">
                                        <div class="endCell flexCenter" style="margin-top: 15px" @click="addEndToMxgraph">
                                            End
                                        </div>
                                    </el-tooltip>
                                </div>
                            </div>
<!--                            <el-tab-pane label="Model" name="modelItem">-->
<!--                                <div class="flexCol flexAlignCenter" style="width: 100%">-->
<!--&lt;!&ndash;                                    <div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <el-input v-model="searchModelText"&ndash;&gt;-->
<!--&lt;!&ndash;                                                  size="mini"&ndash;&gt;-->
<!--&lt;!&ndash;                                                  placeholder="Search for ..."&ndash;&gt;-->
<!--&lt;!&ndash;                                                  @keyup.enter.native="searchComptbModel"&ndash;&gt;-->
<!--&lt;!&ndash;                                                  style="width: 160px;margin-top: 2px">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <el-button slot="append" icon="el-icon-search" @click="searchComptbModel"></el-button>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </el-input>&ndash;&gt;-->
<!--&lt;!&ndash;                                        <el-button size="mini" type="primary" plain style="padding: 7px 9px">&ndash;&gt;-->
<!--&lt;!&ndash;                                            <i class="fa fa-refresh" @click="refreshModelItemList()"></i>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </el-button>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    <p class="noMargin" style="color: #787878;margin-top: 5px;font-size: 13px;">Classification: {{currentModelClassi.label}}</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                    <el-button size="mini" type="primary" plain @click="changeModelClassi" round style="width: 90%;margin-top: 3px">Select Classification</el-button>&ndash;&gt;-->
<!--                                    &lt;!&ndash;                                    <p class="noMargin"&ndash;&gt;-->
<!--                                    &lt;!&ndash;                                       style="font-style: italic;color: #888888;margin-top: 5px;font-size: 13px;">&ndash;&gt;-->
<!--                                    &lt;!&ndash;                                        Click to add to graph.&ndash;&gt;-->
<!--                                    &lt;!&ndash;                                        Right click to view details.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                    <div class="wzhScrollbar">&ndash;&gt;-->
<!--&lt;!&ndash;                                        <div class="itemCard flexCenter"&ndash;&gt;-->
<!--&lt;!&ndash;                                             v-for="(item,key) in computableModelList"&ndash;&gt;-->
<!--&lt;!&ndash;                                             :key="item.oid" style="padding: 0 25px;" :style="getItemCardBackGround"&ndash;&gt;-->
<!--&lt;!&ndash;                                        >&ndash;&gt;-->
<!--&lt;!&ndash;                                            <el-tooltip class="item" effect="dark" :content="item.name"&ndash;&gt;-->
<!--&lt;!&ndash;                                                        placement="top"&ndash;&gt;-->
<!--&lt;!&ndash;                                            >&ndash;&gt;-->
<!--&lt;!&ndash;                                                <p class="noMargin twoLine" @click="checkComputableModelDetail(item)">{{item.name}}</p>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </el-tooltip>&ndash;&gt;-->
<!--&lt;!&ndash;                                            <div class="circleSmall flexCenter button_blank button_shadow"&ndash;&gt;-->
<!--&lt;!&ndash;                                                 style="position: absolute;right: 6px;top: 13px"&ndash;&gt;-->
<!--&lt;!&ndash;                                                 @click.stop ="addModelToMxgraph(item)"&ndash;&gt;-->
<!--&lt;!&ndash;                                            >&ndash;&gt;-->
<!--&lt;!&ndash;                                                <i class="fa fa-plus" style="font-size: 13px;color: #52bbf8"></i>&ndash;&gt;-->
<!--&lt;!&ndash;                                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                    <el-pagination @current-change="handlePageChangeModel"&ndash;&gt;-->
<!--&lt;!&ndash;                                                   :current-page="pageOption2.currentPage"&ndash;&gt;-->
<!--&lt;!&ndash;                                                   pager-count="4"&ndash;&gt;-->
<!--&lt;!&ndash;                                                   small&ndash;&gt;-->
<!--&lt;!&ndash;                                                   layout="prev, pager, next"&ndash;&gt;-->
<!--&lt;!&ndash;                                                   :page-size="pageOption2.pageSize"&ndash;&gt;-->
<!--&lt;!&ndash;                                                   :total="pageOption2.total">&ndash;&gt;-->
<!--&lt;!&ndash;                                    </el-pagination>&ndash;&gt;-->
<!--                                    <div class="wzhScrollbar">-->
<!--                                        <div class="itemCard flexCenter"-->
<!--                                             style="padding: 0 25px;" :style="getItemCardBackGround"-->
<!--                                        >-->
<!--                                            <p>Select Model</p>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->


<!--                            </el-tab-pane>-->
<!--                            <el-tab-pane label="Data Method" name="dataMethod">-->
<!--                                <div class="flexCol flexAlignCenter" style="width: 100%">-->
<!--                                    <div>-->
<!--                                        <el-input v-model="searchDataMethodText"-->
<!--                                                  size="mini"-->
<!--                                                  placeholder="Search for ..."-->
<!--                                                  @keyup.enter.native="searchDataMethod"-->
<!--                                                  style="width: 160px;margin-top: 2px">-->
<!--                                            <el-button slot="append" icon="el-icon-search" @click="searchDataMethod"></el-button>-->
<!--                                        </el-input>-->
<!--                                        <el-button size="mini" type="primary" plain style="padding: 7px 9px">-->
<!--                                            <i class="fa fa-refresh" @click="refreshDataMethodList()"></i>-->
<!--                                        </el-button>-->
<!--                                    </div>-->

<!--                                    <p class="noMargin" style="color: #787878;margin-top: 5px;font-size: 13px;">Classification: {{currentDataMethodClassi.label}}</p>-->
<!--                                    <el-button size="mini" type="primary" plain @click="changeDataMethodClassi" round style="width: 90%;margin-top: 3px">Select Classification</el-button>-->
<!--                                    &lt;!&ndash;                                    <p class="noMargin"&ndash;&gt;-->
<!--                                    &lt;!&ndash;                                       style="font-style: italic;color: #888888;margin-top: 5px;font-size: 13px;">&ndash;&gt;-->
<!--                                    &lt;!&ndash;                                        Click to add to graph.&ndash;&gt;-->
<!--                                    &lt;!&ndash;                                        Right click to view details.</p>&ndash;&gt;-->
<!--                                    <div class="wzhScrollbar">-->
<!--                                        <div class="itemCard flexCenter"-->
<!--                                             v-for="(item,key) in dataMethodList"-->
<!--                                             :key="item.oid"-->
<!--                                             style="padding: 0 25px;background: #f6aede"-->
<!--                                             :style="getItemCardBackGround"-->
<!--                                        >-->
<!--                                            <el-tooltip class="item" effect="dark" :content="item.name"-->
<!--                                                        placement="top">-->
<!--                                                <p class="noMargin twoLine" @click="checkDataMethodDetail(item)">{{item.name}}</p>-->
<!--                                            </el-tooltip>-->
<!--                                            <div class="circleSmall flexCenter button_blank button_shadow"-->
<!--                                                 @click="addDataMethodToMxgraph(item)"-->
<!--                                                 style="position: absolute;right: 6px;top:13px;">-->
<!--                                                <i class="fa fa-plus" style="font-size: 13px;color: #52bbf8"></i>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                    <el-pagination @current-change="handlePageChangeDataMethod"-->
<!--                                                   :current-page="pageOption3.currentPage"-->
<!--                                                   pager-count="4"-->
<!--                                                   small-->
<!--                                                   layout="prev, pager, next"-->
<!--                                                   :page-size="pageOption3.pageSize"-->
<!--                                                   :total="pageOption3.total">-->
<!--                                    </el-pagination>-->
<!--                                </div>-->
<!--                            </el-tab-pane>-->
<!--                        </el-tabs>-->

                    </div>
                    <iframe id="ModelEditor" src="/GeoProblemSolving/common/integratedModelEditor"
                            style="flex-grow: 1;height: 100%;;border:0px;position:relative;"></iframe>
                </div>
            </div>
            <div role="selectedModelContainer" class="integratedContained"
                 style="width:22%;min-width: 200px;max-width: 400px; margin-left: 10px">
                <el-tabs v-model="activeTask" type="border-card" class="sideTabs" style="height: 100%;">
                    <el-tab-pane label="Current Action" name="currentTask">
                        <div class="flexCol flexJustStart flexAlignCenter wzhScrollbar"
                             style="padding: 5px;height: calc(100% - 34px);max-height: 730px">
                            <div v-if="modelActions!= undefined && modelActions.length==0" style="margin-top: 25px">
                                <p style="font-style: italic">You haven't selected models yet.</p>
                            </div>
                            <div class="flexAlignCenter" v-if="currentTask!={} && modelActions!= undefined && modelActions.length!=0" style="margin-top: 5px;width: 100%">
                                <p class="noMargin">Current Editing Task: </p>
                                <a class="cursorPointer" @click="checkTaskInfo(currentTask)">&nbsp{{currentTask.taskName}}</a>
                            </div>
                            <div class="wzhScrollbar" style="width: 100%;padding-right: 10px">
                                <div class="wzhCard_w100" v-for="(modelAction,frontId) in modelActions" :key="frontId">
                                    <div class="flexJustStart" style="min-height: 40px;max-height: 60px">
                                        <div class="flexColCenter w100" style="padding: 5px">
                                            <a class="w100 cursorPointer" @click="seeDetailPage(modelAction.modelOid)" style=";margin-right: 10px">
                                                <p style="color: inherit;font-size: 16px"
                                                   class="itemTitle noMargin twoLine">{{modelAction.name}}</p>
                                            </a>
                                            <i class="fa fa-trash-o cursorPointer" style="font-size: 16px;color: #ec0817" @click="deleteModelClick(modelAction)"></i>
                                        </div>
                                    </div>
                                    <div class="flexAlignCenter flexJustEnd flexWrap"
                                         style="min-height: 60px;max-height: 85px;background: #ecf6ff">
                                        <el-button type="primary" size="mini" round style="margin-right: 10px"
                                                   @click="modelConfiguration(modelAction)">Configuration
                                        </el-button>
                                        <el-button type="primary" size="mini" round style="margin-right: 10px"
                                                   @click="dataConfigurationModel(modelAction)">Load/Check Data
                                        </el-button>
                                    </div>
                                </div>
                                <div class="wzhCard_w100" v-for="(dataProcessing,frontId) in dataProcessings" v-if="dataProcessing.name!=undefined" :key="frontId">
                                    <div class="flexJustStart" style="min-height: 40px;max-height: 60px">
                                        <div class="flexColCenter w100" style="padding: 5px">
                                            <a class="w100 cursorPointer" @click="seeDetailPage(dataProcessing.modelOid)" style="margin-right: 10px">
                                                <p style="color: inherit;font-size: 16px"
                                                   class="itemTitle noMargin twoLine">{{dataProcessing.name}}</p>
                                            </a>
                                            <i class="fa fa-trash-o cursorPointer" style="font-size: 16px;color: #ec0817" @click="deleteDataProcessingClick(dataProcessing)"></i>
                                        </div>
                                    </div>
                                    <div class="flexAlignCenter flexJustEnd flexWrap"
                                         style="min-height: 60px;max-height: 85px;background: #fcf0ff;">
                                        <!--                                    <el-button type="primary" size="mini" round style="margin-right: 10px"-->
                                        <!--                                               @click="modelConfiguration(dataProcessing)">Configuration-->
                                        <!--                                    </el-button>-->
                                        <el-button type="primary" size="mini" round style="margin-right: 10px"
                                                   @click="dataConfigurationDataP(dataProcessing)">Load/Check Data
                                        </el-button>
                                    </div>
                                </div>
                            </div>
                           <el-button v-if="modelActions!= undefined && modelActions.length!=0" type="success" style="margin-top:10px;font-weight: 700;" size="small"
                                       @click="taskConfigure(1)">Save Task
                            </el-button>
                        </div>
                    </el-tab-pane>
                    <el-tab-pane label="Curremt Integrated Task" name="allTask" style="height: 100%">
                        <div class="flexCol flexJustStart flexAlignCenter wzhScrollbar"
                             style="padding: 5px;height: calc(100% - 34px);">
                             <div v-if="integratedTaskList!= undefined && integratedTaskList.length==0" style="margin-top: 25px">
                                <p style="font-style: italic">There is no integrated task in the current activity.</p>
                            </div>
                            <div class="wzhCard_w100" v-if="integratedTaskList!='login'" v-for="(task,frontId) in integratedTaskList" :key="frontId">
                                <div class="flexJustStart" style="min-height: 40px;max-height: 60px">
                                    <div class="flexColCenter w100" style="padding: 5px">
                                        <a class="w100">
                                            <p style="color: inherit;word-break: break-all;font-size: 16px"
                                               class="noMargin">{{task.taskName}}</p></a>
                                    </div>
                                </div>
                                <div class="flexAlignCenter flexJustEnd flexWrap"
                                     style="min-height: 60px;max-height: 85px;background-image: linear-gradient(to right, rgb(253, 249, 244) 0%, rgb(235, 246, 248) 100%);">
                                    <el-button type="primary" size="mini" round style="margin-right: 10px" @click="checkTaskInfo(task)">
                                        Check Task Info
                                    </el-button>
                                    <!--                            <el-button type="primary" size="mini" round style="margin-right: 10px"-->
                                    <!--                                       @click="modelConfiguration(model)">Configuration-->
                                    <!--                            </el-button>-->
                                    <!--                            <el-button type="primary" size="mini" round style="margin-right: 10px"-->
                                    <!--                                       @click="dataConfiguration(model)">Load/Check Data-->
                                    <!--                            </el-button>-->
                                </div>
                            </div>

                        </div>
                        <el-pagination style="text-align: center;margin-top:5px"
                                       v-if="integratedTaskList!='login'&&integratedTaskList.length!=0"
                                       @current-change="handlePageChange"
                                       :current-page="pageOption.currentPage"
                                       layout="total, prev, pager, next, jumper"
                                       :page-size="6"
                                       :total="pageOption.total">
                        </el-pagination>
                    </el-tab-pane>
                </el-tabs>

            </div>

        </div>

        <div>
            <div class="clearfix" style="margin: 0px 5px 10px;background: #f5f5f5;box-shadow:0 3.2px 7.2px 0 rgba(0,0,0,0.141), 0 0.6px 1.8px 0 rgba(0, 0, 0, .112)">
                <h4 style="text-align: center;margin-top: 5px">Data Bus</h4>
                <div v-for="dataLine in dataLines" class="dataBusContainer flexAlignCenter wzhScrollbar" style="width: 100%;height: 150px;z-index: 1;">
                    <!--                    <div class="innerBorder" v-if="Object.keys(dataItemList).length!=0"></div>-->
                    <div class="acrylicMask" ref="acrylicMask" @click="flatContainer($event)"></div>
                    <div class="dataFlowRoad" ref="dataFlowRoad">
                        <div class="dataFlowLink" v-for="dataLink in lightDataLinks" :key="" :style="getFlowLinkPosition(dataLink)"></div>
                    </div>
                    <div class="dataBusList flexJustStart flexAlignCenter" ref="dataBusList">
                        <div class="flexJustStart flexAlignCenter" ref="dataItemList" v-for="(dataItems,key,i) in dataItemList">
                            <div class="innerBorderCol" v-if="i!=0" style="height: 125px;margin: 5px 10px"></div>
                            <div class="wzhCard " :ref="'dataItemCard'+dataItem.eventId"
                                 v-for="dataItem in dataItems"
                                 :class="linkedDataItems.indexOf(dataItem)==-1?'':'lightingDataItem'"
                                 style="min-width: 150px;max-width: 150px;height: 130px;border-bottom: 8px solid;padding: 10px 5px "
                                 :style="{borderBottomColor:getBottomBorder(dataItem)}" >
                                <a class="w100" >
                                    <p class="textEllipsis cursorPointer" :style="{color:getColor(dataItem.parentId)}" @click="riseDataItem(dataItem,i)">{{dataItem.eventName==undefined?dataItem.name:dataItem.eventName}}</p>
                                </a>
                                <el-tooltip class="item" effect="dark" :content="'Action: '+getParentName(dataItem.parentId)" placement="top-start">
                                    <el-tag type="info" v-if="dataItem.eventType==='response'&&!dataItem.optional"><span style="color: #ff0000">*</span> required input</el-tag>
                                    <el-tag type="info" v-if="dataItem.eventType==='response'&&dataItem.optional">optional input</el-tag>
                                    <el-tag type="info" v-if="dataItem.eventType==='noresponse'">output</el-tag>
                                </el-tooltip>
                                <p></p>
<!--                                input-->
                                <el-button style="float: right"
                                           v-if="dataItem.eventType==='response'"
                                           size="mini" type="primary" plain round @click="dataItemConfig(dataItem)">
                                    config
                                </el-button>
                                <el-button circle type="success" size="mini" plain icon="el-icon-files"
                                           v-if="dataItem.eventType=='response'&&checkDataLoaded(dataItem)=='loaded'">
                                </el-button>
                                <el-button circle type="success" size="mini" plain icon="el-icon-connection"
                                           v-if="dataItem.eventType=='response'&&checkDataLoaded(dataItem)=='linked'">
                                </el-button>
<!--                                output-->
                                <el-button circle type="success" size="mini" icon="el-icon-check"
                                           v-if="dataItem.eventType=='noresponse'&&checkDataLoaded(dataItem)=='runned'"
                                           @click="downloadDataItem(dataItem)">
                                </el-button>
                                <el-button style="float: right"
                                           v-if="dataItem.eventType==='noresponse'&&checkDataLoaded(dataItem)=='runned'"
                                           size="mini" type="success" plain round @click="dataItemConfig(dataItem)">
                                    check output
                                </el-button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <input id="uploadInputData" type="file" style="display:none"/>

    </div>

    <el-drawer
            title="Model Classification"
            :visible.sync="modelClassiDrawer"
            size="305px"
            direction="ltr">

        <el-tree style="max-height: 70vh;overflow: auto"
                 class="wzhScrollbar"
                 id="tree1"
                 ref="tree1"
                 :data="treeData2"
                 :highlight-current="true"
                 node-key="id"
                 :default-expanded-keys="[1,9,30,14,19,24]"
                 :expand-on-click-node="false"
                 :current-node-key="24"
                 @current-change="handleCurrentChange1"
                 :props="defaultProps">
        </el-tree>
        <el-button @click="confirmModelCls" size="small" type="primary" style="float: right;margin-right: 20px;margin-top: 20px">Confirm</el-button>
    </el-drawer>

    <el-drawer
            title="Data Method Classification"
            :visible.sync="dataMethodClassiDrawer"
            size="305px"
            direction="ltr">

        <el-tree style="max-height: 70vh;overflow: auto"
                 class="wzhScrollbar"
                 id="tree2"
                 ref="tree2"
                 :data="treeData3"
                 :highlight-current="true"
                 node-key="id"
                 :default-expanded-keys="[1,9,30,14,19,24]"
                 :expand-on-click-node="false"
                 :current-node-key="24"
                 @current-change="handleCurrentChange2"
                 :props="defaultProps">
        </el-tree>
        <el-button @click="confirmDataMethodCls" size="small" type="primary" style="float: right;margin-right: 20px;margin-top: 20px">Confirm</el-button>
    </el-drawer>

    <el-dialog title="Input Data Configuration" :visible.sync="configVisible" ref="userDataSpace" width="65%">
        <el-tabs>
            <div class="el-tabs__header is-top">
                <div class="el-tabs__nav-wrap is-top">
                    <div class="el-tabs__nav-scroll">
                        <div role="tablist" class="el-tabs__nav is-top" style="transform: translateX(0px);">
                            <div class="el-tabs__active-bar is-top"
                                 style="width: 134px; transform: translateX(0px);">

                            </div>
                            <div id="tab-SWATModelAllInOne" aria-controls="pane-SWATModelAllInOne" role="tab"
                                 aria-selected="true" tabindex="0" class="el-tabs__item is-top is-active">
                                {{configModelAction.name}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <el-table :data="configModelAction.inputData" style="width: 100%"
                      :key="Math.random()"
                      row-key="dataId"
                      border
                      default-expand-all>

                <el-table-column
                        label="Event Name"
                        width="220">
                    <template slot-scope="scope">
                        <span v-if="scope.row.externalId==undefined" :title="scope.row.event">
                                    <span v-if="!scope.row.optional&&!scope.row.child"
                                          style="color:red">*</span>
                                        {{scope.row.eventName}}
                                </span>
                        <span v-if="scope.row.externalId!=undefined" :title="scope.row.event">
                                    <span v-if="!scope.row.optional"
                                          style="color:red">*</span>
                                    <a style="text-decoration: underline;"
                                       :href="'/repository/template/'+scope.row.externalId.toLowerCase()"
                                       target="_blank">{{scope.row.eventName}}</a>
                                </span>
                        <el-tag :disable-transitions="true"
                                :type="scope.row.eventType === 'response' ? 'primary' : (scope.row.eventType=== 'noresponse' ? 'success' : 'info')"
                                disable-transitions>{{scope.row.eventType ===
                        'response'?'Input':(scope.row.eventType=== 'noresponse' ?
                                'Output':'Parameter')}}
                        </el-tag>
                    </template>
                </el-table-column>
                <el-table-column
                        prop="eventDesc"
                        label="Description">
                </el-table-column>
                <el-table-column
                        label="File"
                        width="200">
                    <template slot-scope="scope">
                        <el-input class="model-input"
                                  :key="scope.row.dataId"
                                  :value="scope.row.fileName==undefined ?'':(scope.row.fileName+'.'+scope.row.suffix) "
                                  :id="'datainput'+scope.row.dataId"
                                  disabled="false">
                        </el-input>
                        <!--                        <el-input class="model-input"-->
                        <!--                                  :key="scope.row.dataId"-->
                        <!--                                  v-if="scope.row.children==undefined&&scope.row.child!=true"-->
                        <!--                                  :value="scope.row.fileName==undefined ?'':(scope.row.fileName+'.'+scope.row.suffix) "-->
                        <!--                                  :id="'datainput'+scope.row.dataId"-->
                        <!--                                  disabled="false">-->
                        <!--                        </el-input>-->
                        <!--                        <el-input class="model-input"-->
                        <!--                                  v-if="scope.row.children==undefined&&scope.row.child==true"-->
                        <!--                                  v-model="scope.row.val"-->
                        <!--                                  :id="'datainput'+scope.row.dataId">-->
                        <!--                        </el-input>-->
                    </template>
                </el-table-column>
                <el-table-column
                        label="Link From"
                        width="200">
                    <template slot-scope="scope">
                        <el-input class="model-input"
                                  :key="scope.row.dataId"
                                  v-if="scope.row.linkEvent!=undefined"
                                  :value="scope.row.linkEvent"
                                  :id="'datainput'+scope.row.eventId"
                                  disabled="false">
                        </el-input>

                    </template>
                </el-table-column>
                <el-table-column
                        label="Operation"
                        width="120">
                    <template slot-scope="scope">
                        <div class="_btn-group" >
                            <!--                            v-if="scope.row.children==undefined"-->
                            <el-button
                                    v-if="(scope.row.link == undefined||scope.row.link == '' )||configModelAction.step>1"
                                    plain round type="primary" size="small"
                                    @click="openUserDataSpace(scope.row)">
                                <i class="fa fa-folder-open"></i>
                            </el-button>

                            <el-button plain round type="warning" size="small" id="'download'+ scope.row.dataId"
                                       v-if="scope.row.fileName!=''&&scope.row.fileName!=null"
                                       @click="download(scope.row)" style="margin-left: 0px;">
                                <i class="fa fa-download"></i>
                            </el-button>
                        </div>
                    </template>
                </el-table-column>
            </el-table>

            <el-table :data="configModelAction.outputData" style="width: 100%"
                      :key="Math.random()"
                      row-key="dataId"
                      border
                      default-expand-all>

                <el-table-column
                        label="Event Name"
                        width="220">
                    <template slot-scope="scope">
                            <span v-if="scope.row.externalId==undefined" :title="scope.row.event">
                                <span v-if="!scope.row.optional&&!scope.row.child" style="color:red">*</span>
                                {{scope.row.eventName}}
                            </span>
                        <span v-if="scope.row.externalId!=undefined" :title="scope.row.event">
                                <span v-if="!scope.row.optional" style="color:red">*</span>
                                <a style="text-decoration: underline;" :href="'/repository/template/'+scope.row.externalId.toLowerCase()" target="_blank">{{scope.row.eventName}}</a>
                            </span>
                        <el-tag :disable-transitions="true"
                                type="success"
                                disable-transitions>output
                        </el-tag>
                    </template>
                </el-table-column>
                <el-table-column
                        prop="eventDesc"
                        label="Description">
                </el-table-column>
                <el-table-column
                        label="File"
                        width="200">
                    <template slot-scope="scope">

                        <el-input class="model-input"
                                  :key="scope.row.dataId"
                                  v-if="scope.row.children==undefined&&scope.row.child!=true"
                                  :value="scope.row.fileName==undefined ?'':(scope.row.fileName+'.'+scope.row.suffix) "
                                  :id="'datainput'+scope.row.dataId"
                                  disabled="false">
                        </el-input>

                    </template>
                </el-table-column>
                <el-table-column
                        label="Operation"
                        width="120">
                    <template slot-scope="scope">
                        <div class="_btn-group" v-if="scope.row.children==undefined">

                            <el-button plain round type="warning" size="small" id="'download'+ scope.row.dataId"
                                       v-if="scope.row.value!=''&&scope.row.value!=null&&scope.row.value!=undefined"
                                       @click="download(scope.row)" style="margin-left: 0px;">
                                <i class="fa fa-download"></i>
                            </el-button>
                        </div>
                    </template>
                </el-table-column>
            </el-table>

            </el-tab-pane>
        </el-tabs>
        <div slot="footer" class="dialog-footer">
            <el-button type="primary" @click="checkData">OK</el-button>
        </div>
    </el-dialog>

    <el-dialog title="Input Data Configuration" :visible.sync="configDataPVisible" ref="userDataSpace" width="65%">
        <el-tabs>
            <div class="el-tabs__header is-top">
                <div class="el-tabs__nav-wrap is-top">
                    <div class="el-tabs__nav-scroll">
                        <div role="tablist" class="el-tabs__nav is-top" style="transform: translateX(0px);">
                            <div class="el-tabs__active-bar is-top"
                                 style="width: 134px; transform: translateX(0px);">

                            </div>
                            <div aria-controls="pane-SWATModelAllInOne" role="tab"
                                 aria-selected="true" tabindex="0" class="el-tabs__item is-top is-active">
                                {{configDataProcessing.name}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <el-table :data="configDataProcessing.inputData" style="width: 100%"
                      :key="Math.random()"
                      row-key="dataId"
                      border
                      default-expand-all>

                <el-table-column
                        label="Name"
                        width="220">
                    <template slot-scope="scope">
                        <span>
                            <span style="color:red">*</span>
                            {{scope.row.name}}
                        </span>
                        <el-tag :disable-transitions="true"
                                type="primary"
                                disable-transitions>Input
                        </el-tag>
                    </template>
                </el-table-column>
                <el-table-column
                        prop="description"
                        label="Description">
                </el-table-column>
                <el-table-column
                        label="File"
                        width="200">
                    <template slot-scope="scope">
                        <el-input class="model-input"
                                  :key="scope.row.dataId"
                                  :value="scope.row.fileName==undefined ?'':(scope.row.fileName+'.'+scope.row.suffix) "
                                  :id="'datainput'+scope.row.dataId"
                                  disabled="false">
                        </el-input>
                        <!--                        <el-input class="model-input"-->
                        <!--                                  :key="scope.row.dataId"-->
                        <!--                                  v-if="scope.row.children==undefined&&scope.row.child!=true"-->
                        <!--                                  :value="scope.row.fileName==undefined ?'':(scope.row.fileName+'.'+scope.row.suffix) "-->
                        <!--                                  :id="'datainput'+scope.row.dataId"-->
                        <!--                                  disabled="false">-->
                        <!--                        </el-input>-->
                        <!--                        <el-input class="model-input"-->
                        <!--                                  v-if="scope.row.children==undefined&&scope.row.child==true"-->
                        <!--                                  v-model="scope.row.val"-->
                        <!--                                  :id="'datainput'+scope.row.dataId">-->
                        <!--                        </el-input>-->
                    </template>
                </el-table-column>
                <el-table-column
                        label="Link From"
                        width="200">
                    <template slot-scope="scope">
                        <el-input class="model-input"
                                  :key="scope.row.dataId"
                                  v-if="scope.row.linkEvent!=undefined"
                                  :value="scope.row.linkEvent"
                                  :id="'datainput'+scope.row.eventId"
                                  disabled="false">
                        </el-input>

                    </template>
                </el-table-column>
                <el-table-column
                        label="Operation"
                        width="120">
                    <template slot-scope="scope">
                        <div class="_btn-group" >
                            <!--                            v-if="scope.row.children==undefined"-->
                            <el-button
                                    v-if="(scope.row.link == undefined||scope.row.link == '' )||configModelAction.step>1"
                                    plain round type="primary" size="small"
                                    @click="openUserDataSpace(scope.row)">
                                <i class="fa fa-folder-open"></i>
                            </el-button>

                            <el-button plain round type="warning" size="small" id="'download'+ scope.row.dataId"
                                       v-if="scope.row.fileName!=''&&scope.row.fileName!=null"
                                       @click="download(scope.row)" style="margin-left: 0px;">
                                <i class="fa fa-download"></i>
                            </el-button>
                        </div>
                    </template>
                </el-table-column>
            </el-table>

            <el-table v-if="configDataProcessing.params!=undefined&&configDataProcessing.params.length>0"  :data="configDataProcessing.params" style="width: 100%"
                      :key="Math.random()"
                      row-key="dataId"
                      border
                      default-expand-all>
                <el-table-column
                        label="Name"
                        width="220">
                    <template slot-scope="scope">
                        <span v-if="scope.row.externalId==undefined" :title="scope.row.event">
                                    <span v-if="!scope.row.optional&&!scope.row.child"
                                          style="color:red">*</span>
                                        {{scope.row.name}}
                                </span>
                        <span v-if="scope.row.externalId!=undefined" :title="scope.row.event">
                                    <span v-if="!scope.row.optional"
                                          style="color:red">*</span>
                                    <a style="text-decoration: underline;"
                                       :href="'/repository/template/'+scope.row.externalId.toLowerCase()"
                                       target="_blank">{{scope.row.eventName}}</a>
                                </span>
                        <el-tag :disable-transitions="true"
                                type="primary"
                                disable-transitions>Input
                        </el-tag><el-tag :disable-transitions="true"
                                type="info"
                                disable-transitions>Parameter
                        </el-tag>
                    </template>
                </el-table-column>
                <el-table-column
                        prop="description"
                        label="Description">
                </el-table-column>
                <el-table-column
                        prop="Type"
                        label="type">
                </el-table-column>
                <el-table-column
                        label="Value"
                        width="200">
                    <template slot-scope="scope">
                        <el-input class="model-input"
                                  v-model="scope.row.value"
                                  :disabled="scope.row.linkEvent==undefined?false:true">
                        </el-input>
                    </template>
                </el-table-column>
                <el-table-column
                        label="Link From"
                        width="200">
                    <template slot-scope="scope">
                        <el-input class="model-input"
                                  :key="scope.row.dataId"
                                  v-if="scope.row.linkEvent!=undefined"
                                  :value="scope.row.linkEvent"
                                  :id="'datainput'+scope.row.eventId"
                                  disabled="false">
                        </el-input>

                    </template>
                </el-table-column>
            </el-table>

            <el-table :data="configDataProcessing.outputData" style="width: 100%"
                      :key="Math.random()"
                      row-key="dataId"
                      border
                      default-expand-all>

                <el-table-column
                        label="Name"
                        width="220">
                    <template slot-scope="scope">
                        <span>{{scope.row.name}}</span>
                        <el-tag :disable-transitions="true"
                                type="success"
                                disable-transitions>output
                        </el-tag>
                    </template>
                </el-table-column>
                <el-table-column
                        prop="description"
                        label="Description">
                </el-table-column>
                <el-table-column
                        label="File"
                        width="200">
                    <template slot-scope="scope">

                        <el-input class="model-input"
                                  :key="scope.row.dataId"
                                  v-if="scope.row.children==undefined&&scope.row.child!=true"
                                  :value="scope.row.fileName==undefined ?'':(scope.row.fileName+'.'+scope.row.suffix) "
                                  :id="'datainput'+scope.row.dataId"
                                  disabled="false">
                        </el-input>

                    </template>
                </el-table-column>
                <el-table-column
                        label="Operation"
                        width="120">
                    <template slot-scope="scope">
                        <div class="_btn-group" v-if="scope.row.children==undefined">

                            <el-button plain round type="warning" size="small" id="'download'+ scope.row.dataId"
                                       v-if="scope.row.value!=''&&scope.row.value!=null&&scope.row.value!=undefined"
                                       @click="download(scope.row)" style="margin-left: 0px;">
                                <i class="fa fa-download"></i>
                            </el-button>
                            <el-button plain round type="warning" size="small" id="'download'+ scope.row.dataId"
                                       v-if="scope.row.value!=''&&scope.row.value!=null&&scope.row.value!=undefined&&configDataProcessing.method==='Visualization'"
                                       @click="preview(scope.row)" style="margin-left: 0px;">
                                <i class="fa fa-eye"></i>
                            </el-button>
                        </div>
                    </template>
                </el-table-column>
            </el-table>

            </el-tab-pane>
        </el-tabs>
        <div slot="footer" class="dialog-footer">
            <el-button type="primary" @click="checkData">OK</el-button>
        </div>
    </el-dialog>

    <el-dialog title="Integrated Models Configuration" :visible.sync="executeVisible" width="30%">
        <p v-if="taskConfigStatus==2" style="font-style: italic ">Every integrated task will be saved automaticly if it is executed.</p>
        <div style="font-size: 18px">
            Task Name :
            <el-input v-model="taskName" placeholder="Please name this task!" style="width: 95%;"></el-input>
        </div>
        <div style="font-size: 18px">
            Description :
            <el-input v-model="taskDescription" placeholder="You can input task description here." maxlength="60" show-word-limit style="width: 95%;"></el-input>
        </div>
        <div slot="footer" class="dialog-footer">
            <el-button v-if="taskConfigStatus==1" type="primary" @click="saveIntegratedTaskClick">Save</el-button>
            <el-button v-else type="primary" @click="executeNew">Execute</el-button>
        </div>
    </el-dialog>

    <el-dialog title="Select Data"
               append-to-body
               :visible.sync="userDataSpaceVisible"
               ref="userDataSpace"
               width="68%" class="noScroll">
        <el-tabs v-model="dataFromActive" stretch="stretch" @tab-click="changeDataFrom" style="min-height: 105px">
            <el-tab-pane label="My Data Space" name="dataSpace">
                <!-- <user-data
                        @com-selectfile="selectDataspaceFile"
                        @com-removefile="removeDataspaceFile"
                        single-choice
                        ref="userDataSpace" style="height: 505px;">
                </user-data> -->
            </el-tab-pane>
            <el-tab-pane label="My Data Server" name="dataServer">
                <div  style="min-height: 495px">
                    <button class="btn btn-info" @click="refreshDataNode()">
                        <i class="fa fa-refresh"></i>Refresh
                    </button>
                    <div v-loading="nodeLoading">
                        <div v-if="dataNode.status==1">
                            <el-table :data="dataNode.data" >
                                <el-table-column
                                        prop="name"
                                        label="Name"
                                        min-width="3">
                                </el-table-column>
                                <el-table-column
                                        label="Date"
                                        min-width="2">
                                    <template slot-scope="scope">
                                        <span>{{formatDate(scope.row.date)}}</span>
                                    </template>
                                </el-table-column>
                                <el-table-column
                                        label="Option"
                                        min-width="1">
                                    <template slot-scope="scope">
                                        <!--                                                                <el-button size="mini" round @click="download(scope.row)" style="margin-right: 2px"><span><i class="fa fa-arrow-down"></i></span>Download</el-button>-->
                                        <el-button size="mini" round type="success" @click="selectDataFromDataServer(scope.row)">select</el-button>
                                    </template>
                                </el-table-column>
                            </el-table>

                        </div>
                        <div v-else>
                            <h5 style="font-style: italic;color: rgb(128,128,128);text-align: center;">Node Offline</h5>
                            <h5 style="font-style: italic;color: rgb(128,128,128);text-align: center;">If you want to use this function, please ensure that your data server is online.</h5>
                        </div>
                    </div>
                </div>

            </el-tab-pane>
            <el-tab-pane label="Data Item" name="dataItem">
                <el-table v-loading="loading"
                          :data="dataItemsCheck">
                    <el-table-column
                            prop="name"
                            label="Name"
                            width="320">
                        <template slot-scope="props">
                            <a :href="'/dataItem/'+props.row.oid" target="_blank">{{props.row.name}}</a>
                        </template>
                    </el-table-column>
                    <el-table-column
                            label="Contributor">
                        <template slot-scope="props">
                            <a :href="'/profile/'+props.row.contributorId" target="_blank">{{props.row.contributor}}</a>
                        </template>
                    </el-table-column>
                    <el-table-column
                            label="Option">
                        <template slot-scope="scope">
                            <el-button size="mini" round type="success">Select</el-button>
                        </template>
                    </el-table-column>
                </el-table>
                <el-pagination style="text-align: center;margin-top:20px"
                               @current-change="handlePageChangeDataItem"
                               :current-page="pageOptionDataItem.currentPage"
                               layout="total, prev, pager, next, jumper"
                               :page-size="pageOptionDataItem.pageSize"
                               :total="pageOptionDataItem.total">
                </el-pagination>
            </el-tab-pane>
        </el-tabs>

        <span slot="footer" class="dialog-footer">
       <el-button @click="userDataSpaceVisible = false">Cancel</el-button>
      <el-button type="primary" @click="selectFromDataSpace">Confirm</el-button>
    </span>
    </el-dialog>

    <el-dialog :title="Single Data Config Title" :visible.sync="eventConfigDialog" width="60%">
        <el-table :data="configEvent" style="width: 100%"
                  :key="Math.random()"
                  row-key="dataId"
                  border
                  default-expand-all>

            <el-table-column
                    label="Event Name"
                    width="220">
                <template slot-scope="scope">
                                <span v-if="scope.row.externalId==undefined" :title="scope.row.event">
                                    <span v-if="!scope.row.optional&&!scope.row.child"
                                          style="color:red">*</span>
                                        {{scope.row.eventName}}
                                </span>

                    <span v-if="scope.row.externalId!=undefined" :title="scope.row.event">
                                    <span v-if="!scope.row.optional"
                                          style="color:red">*</span>
                                    <a style="text-decoration: underline;"
                                       :href="'/repository/template/'+scope.row.externalId.toLowerCase()"
                                       target="_blank">{{scope.row.eventName}}</a>
                                </span>
                </template>
            </el-table-column>
            <el-table-column
                    prop="eventDesc"
                    label="Description">
            </el-table-column>
            <el-table-column
                    label="File"
                    width="200">
                <template slot-scope="scope">

                    <el-input class="model-input"
                              :key="scope.row.dataId"
                              v-if="scope.row.children==undefined&&scope.row.child!=true"
                              :value="scope.row.fileName==undefined ?'':(scope.row.fileName+'.'+scope.row.suffix) "
                              :id="'datainput'+scope.row.dataId"
                              disabled="false">
                    </el-input>
                    <el-input class="model-input"
                              v-if="scope.row.children==undefined&&scope.row.child==true"
                              v-model="scope.row.val"
                              :id="'datainput'+scope.row.dataId">
                    </el-input>
                </template>
            </el-table-column>
            <el-table-column
                    label="Link From"
                    width="200">
                <template slot-scope="scope">
                    <el-input class="model-input"
                              :key="scope.row.dataId"
                              v-if="scope.row.linkEvent!=undefined"
                              :value="scope.row.linkEvent"
                              :id="'datainput'+scope.row.eventId"
                              disabled="false">
                    </el-input>

                </template>
            </el-table-column>
            <el-table-column
                    label="Operation"
                    width="120">
                <template slot-scope="scope">
                    <div class="_btn-group" v-if="scope.row.children==undefined">

                        <el-button
                                v-if="scope.row.eventType=='response'&&((scope.row.link == undefined||scope.row.link == '' )||configModelAction.step>1)"
                                plain round type="primary" size="small"
                                @click="openUserDataSpace(scope.row)">
                            <i class="fa fa-folder-open"></i>
                        </el-button>

                        <el-button plain round type="warning" size="small" id="'download'+ scope.row.dataId"
                                   v-if="scope.row.fileName!=''&&scope.row.fileName!=null"
                                   @click="download(scope.row)" style="margin-left: 0px;">
                            <i class="fa fa-download"></i>
                        </el-button>
                    </div>
                </template>
            </el-table-column>
        </el-table>
        <span slot="footer" class="dialog-footer">
            <el-button @click="eventConfigDialog=false">OK</el-button>
        </span>
    </el-dialog>

    <el-dialog title="Choose Computable Models" :visible.sync="chooseModelVisible" width="70%">
        <computable-models :check-model-list="checkModelList"></computable-models>
        <span slot="footer" class="dialog-footer">
      <el-button @click="chooseModelVisible=false">Cancel</el-button>
      <el-button type="primary" @click="chooseModelConfirm">OK</el-button>
    </span>
    </el-dialog>

    <el-dialog title="Integrate Task Info" :visible.sync="taskInfoVisible" width="70%">
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h4 style="">Name:       </h4>
            <h4 v-if="!taskNameEditing" style="font-weight: 600;margin-left: 50px">{{checkedTask.taskName}}</h4>
            <i v-if="!taskNameEditing" class="el-icon-edit cursorPointer"
               @click="editTaskNameClick()"
               style="margin-left: 5px; font-size: 18px;font-weight: 500;color: #4c91cd;"></i>
            <el-input v-else size="small" v-model="taskName" style="font-weight: 600;margin-left: 50px;max-width: 300px"></el-input>
            <i v-if="taskNameEditing" class="el-icon-success cursorPointer"
               @click="editTaskNameComfirm()"
               style="margin-left: 5px; font-size: 22px;font-weight: 500;color: #4c91cd;"></i>
            <i v-if="taskNameEditing" class="el-icon-remove cursorPointer"
               @click="taskNameEditing=false"
               style="margin-left: 5px; font-size: 22px;font-weight: 500;color: #cdae43;"></i>
        </div>
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h4>Description:</h4>
            <h4 v-if="!taskDescriptionEditing" style="font-weight: 600;margin-left: 5px">{{checkedTask.description}}</h4>
            <i v-if="!taskDescriptionEditing" class="el-icon-edit cursorPointer"
               @click="editTaskDescriptionClick()"
               style="margin-left: 5px; font-size: 18px;font-weight: 500;color: #4c91cd;"></i>
            <el-input v-else size="small" v-model="taskDescription" style="font-weight: 600;margin-left: 5px;max-width: 300px"></el-input>
            <i v-if="taskDescriptionEditing" class="el-icon-success cursorPointer"
               @click="editTaskDescriptionComfirm()"
               style="margin-left: 5px; font-size: 22px;font-weight: 500;color: #4c91cd;"></i>
            <i v-if="taskDescriptionEditing" class="el-icon-remove cursorPointer"
               @click="taskDescriptionEditing=false"
               style="margin-left: 5px; font-size: 22px;font-weight: 500;color: #cdae43;"></i>
        </div>
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h4>Status:</h4>
            <h4 style="font-weight: 600;margin-left: 50px">{{checkTaskStatus}}</h4>
        </div>
        <h4>Models:</h4>
        <el-row :gutter="20">
            <el-col :span="6" v-for="model in checkedTask.models" style="margin-bottom: 20px">
                <div class="wzhCard w100" style="height: 148px">
                    <el-tooltip class="item" effect="dark" :content="model.name" placement="bottom-start">
                        <a class="cursorPointer" @click="openModelPage(model.oid)">
                            <p class="itemTitle noMargin textEllipsis" style="margin-left:3px; font-size: 16px;">
                                {{model.name}}</p>
                        </a>

                    </el-tooltip>
                    <p class="noMargin textRow_3" style="margin-left:3px; font-size: 14px;height: 60px">
                        {{model.description}}</p>
                    <br>
                    <div class="flexAlignCenter">
                        <img src="/GeoProblemSolving/img/icon/default.png" class="round_icon"
                             style="margin-top: -5px; width: 22px; height: 22px; display: inline-block;">
                        <a class="cursorPointer" style="display: inline-block; margin: 5px 0 0 5px;" @click="openModelContributer(model.oid)">
                            <p style="margin-left:3px; font-size: 14px;">{{model.author}}</p>
                        </a>
                    </div>
                </div>
            </el-col>
        </el-row>
        <h4>Model Actions:</h4>
        <el-row :gutter="20">
            <el-col :span="12" v-for="modelAction in checkedTask.modelActions" style="margin-bottom: 20px">
                <div class="wzhCard w100">
                    <div class="flexJustStart wzhInfoContainer">
                        <p class="noMargin" style="margin-left:3px ;font-size: 16px">ModelAction:</p>
                        <p class="noMargin" style="margin-left:3px ;font-weight: 600;font-size: 16px">{{modelAction.name}}</p>
                    </div>
                    <div class="flexJustStart wzhInfoContainer">
                        <p class="noMargin" style="margin-left:3px ;font-size: 16px">Description:</p>
                        <p class="noMargin" style="margin-left:3px ;font-size: 16px;font-weight: 600">{{modelAction.description}}</p>
                    </div>
                    <div class="flexAlignCenter flexJustEnd flexWrap">
                        <el-button type="primary" size="mini" round style="margin-right: 10px"
                                   @click="modelConfiguration(modelAction)">Configuration
                        </el-button>
                        <el-button type="primary" size="mini" round style="margin-right: 10px"
                                   @click="dataConfigurationModel(modelAction)">Load/Check Data
                        </el-button>
                    </div>
                </div>
            </el-col>
        </el-row>
        <h3></h3>

        <span slot="footer" class="dialog-footer">
            <el-button type="danger" style="margin-right: 10px" @click="deleteIntegrateTask(checkedTask)">Delete</el-button>
            <el-button type="success" style="margin-right: 10px" @click="UpdateIntegrateTaskClick(checkedTask)">Save/Update</el-button>
            <el-button type="primary" style="margin-right: 10px" @click="loadTask(checkedTask)">Load This Task</el-button>
            <el-button style="margin-right: 10px" @click="taskInfoVisible=false">Cancel</el-button>
        </span>
    </el-dialog>

    <el-dialog title="Configuration" :visible.sync="modelConfigurationVisible" width="35%">
        <div class="flexJustBetween flexAlignCenter"
             style="font-size: 16px;word-break: break-word">
            <p class="noMargin" style="width: 133px">Description:</p>
            <el-input v-model="modelActionDescriprion" size="small"
                      placeholder="You can input description of this action here." maxlength="60" show-word-limit></el-input>
        </div>
        <h4 style="word-break: break-word">If you want to run a model iteratively, you should choose 'iterative',
            then set times of the iteration.</h4>
        <div class="flexAlignCenter" style="font-size: 16px;margin-top: 10px;word-break: break-word">
            <p>Model Running Type :</p>
            <el-radio-group v-model="modelRunType" style="margin-left: 10px">
                <el-radio :label="'common'">common</el-radio>
                <el-radio :label="'iterative'">iterative</el-radio>
            </el-radio-group>
        </div>
        <div class="flexJustBetween flexAlignCenter" v-if="modelRunType==='iterative'"
             style="font-size: 16px;word-break: break-word">
            <p class="noMargin" style="width: 133px">Iteration times:</p>
            <el-input v-model="modelRunTimes" size="small"></el-input>
        </div>

        <div slot="footer" class="dialog-footer">
            <el-button type="primary" size="small" @click="modelConfigurationConfirm()">OK</el-button>
            <el-button size="small" @click="modelConfigurationCancel()">Cancel</el-button>
        </div>
    </el-dialog>

    <el-dialog title="DataLink Configuration" :visible.sync="dataLinkConfigDialog" width="35%">
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h4 style="">Target:       </h4>
            <h4 style="font-weight: 600;margin-left: 50px">{{dataLinkConfig.targetName}}</h4>
        </div>
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h4 style="">Target Model Action:</h4>
            <h4 style="font-weight: 600;margin-left: 50px">{{dataLinkConfig.targetModelName}}</h4>
        </div>
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h4 style="">Source:       </h4>
            <h4 style="font-weight: 600;margin-left: 50px">{{dataLinkConfig.sourceName}}</h4>
        </div>
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h4 style="">Source Model Action:</h4>
            <h4 style="font-weight: 600;margin-left: 50px">{{dataLinkConfig.sourceModelName}}</h4>
        </div>
<!--        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">-->
<!--            <h4 style="">Convertion Tool:       </h4>-->
<!--            <el-button size="small" @click="convertToolsVisible=true">Select</el-button>-->
<!--        </div>-->

        <div slot="footer" class="dialog-footer">
            <el-button type="primary" size="small" @click="dataLinkConfigDialog=false">OK</el-button>
        </div>
    </el-dialog>

    <el-dialog title="Convertion Tools" :visible.sync="convertToolsVisible">
        <div v-loading="loading">
            <div class="flexRow flexJustCenter" style="margin-top: 12px; margin-left: 10px;">
                <div class="flexRow flexColCenter" style="width: 50%;mini-width:250px">
                    <input placeholder="Search for ..."  class="noBorderInput miniInput">
                </div>
                <i class="fa fa-search cursorPointer" style="font-size: 18px;"></i>
            </div>
            <el-table style="padding-left:10px "
                      :data="convertTools">
                <el-table-column
                        label="Name"
                        prop="name"
                >
                </el-table-column>
                <el-table-column
                        label="Option"
                        width="180"
                >
                    <template slot-scope="scope">
                        <el-button size="mini" round type="success" @click="loadConvertTool(scope.row.oid)">Load</el-button>
                    </template>
                </el-table-column>
            </el-table>
            <!--            <el-pagination style="text-align: center;margin-top:20px"-->
            <!--                           @current-change="handlePageChange"-->
            <!--                           :current-page="pageOption.currentPage"-->
            <!--                           layout="total, prev, pager, next, jumper"-->
            <!--                           :page-size="6"-->
            <!--                           :total="pageOption.total">-->
            <!--            </el-pagination>-->

        </div>
        <div slot="footer" class="dialog-footer">
            <!--                   <el-button @click="">Cancel</el-button>-->
            <el-button type="primary" @click="convertToolsVisible = false;">OK</el-button>
        </div>
    </el-dialog>

    <el-dialog title="Load Logical Model" :visible.sync="logicalModelLoadDialog" width="35%">
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h4 style="">Logical Model Configuration:       </h4>
            <el-button size="small" @click="uploadLogicalConfigFile">Select</el-button>
            <el-upload
                    class="upload-demo wzhScrollbar customUpload"
                    multiple="true"
                    ref="upload"
                    :on-change="uploadChange1"
                    :on-remove="uploadRemove1"
                    :file-list="uploadLogicalConfigList"
                    limit=1
                    :auto-upload="false" style="min-height: 35px;max-height: 99px;margin-top: 15px">
                <el-button id="uploadConfig" style="display:none" slot="trigger" size="small"
                           type="primary">选取文件
                </el-button>

            </el-upload>
        </div>
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h4 style="">Logical Model Mxgraph:       </h4>
            <el-button size="small" @click="uploadLogicalXmlFile">Select</el-button>
            <el-upload
                    class="upload-demo wzhScrollbar customUpload"
                    multiple="true"
                    ref="upload"
                    :on-change="uploadChange2"
                    :on-remove="uploadRemove2"
                    limit=1
                    :file-list="uploadLogicalXmlList"
                    :auto-upload="false" style="min-height: 35px;max-height: 99px;margin-top: 15px">
                <el-button id="uploadXml" style="display:none" slot="trigger" size="small"
                           type="primary">选取文件
                </el-button>

            </el-upload>
        </div>

        <div slot="footer" class="dialog-footer">
            <el-button type="primary" size="small" @click="loadLogicalConfig7Xml">OK</el-button>
        </div>
    </el-dialog>

    <el-dialog title="Select Data Processing" :visible.sync="dataProcessingLoadDialog" width="70%">
        <el-tabs v-model="dataProcessActive" style="min-height: 500px">
            <el-tab-pane label="Model Service" name="modelService">
                <computable-models ref="dataP_ModelService" :check-model-list="dataPModelServices" @select-computable-model="selectModelService" @remove-computable-model="removeModelService" single-select></computable-models>
            </el-tab-pane>
            <el-tab-pane label="Data Service" name="dataService">
                <data-processing-list ref="dataP_dataService" @select-data-processing="selectDataProcessing" @remove-data-processing="removeDataProcessing" single-select></data-processing-list>
            </el-tab-pane>
        </el-tabs>
        <div slot="footer" class="dialog-footer">
            <el-button type="primary" size="small" @click="loadDataProcessing">OK</el-button>
        </div>
    </el-dialog>

    <el-dialog title="Condition Configuration" :visible.sync="conditionConfigDialog" width="40%">
        <h4>Condition Info:</h4>
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h5 style="min-width: 80px;">Value:       </h5>
            <el-input size="small" v-model="conditionConfig.value" disabled style="max-width: 192px;"></el-input>
        </div>
        <div class="flexJustStart flexAlignCenter wzhInfoContainer" style="height: 32px">
            <h5 style="min-width: 80px;">Format:</h5>
            <el-radio-group v-model="conditionConfig.format" style="margin-left: 10px">
                <el-radio class="noMargin" :label="'number'" style="margin-right: 15px">number</el-radio>
                <el-radio class="noMargin" :label="'string'">string</el-radio>
            </el-radio-group>
        </div>
        <div class="flexJustStart flexAlignCenter">
            <h4 style="margin-right: 185px;">Cases: </h4>
            <el-button size="mini" type="primary" round @click="addConditionCase(conditionConfig)">
                <i class="el-icon-plus"></i>
            </el-button>
        </div>
        <div class="flexJustStart flexAlignCenter" v-for="(conditionCase,index) in conditionConfig.cases" :key="index">
            <h5 style="margin-right: 20px">operator: <span style="font-weight: 600">{{conditionCase.operator}}</span></h5>
            <h5 style="margin-right: 20px">standard: <span style="font-weight: 600">{{conditionCase.standard}}</span></h5>
            <h5 style="margin-right: 10px">relation: <span style="font-weight: 600">{{conditionCase.relation}}</span></h5>
            <i class="el-icon-edit cursorPointer" style="font-size: 16px" @click="editCondition(conditionCase)"></i>
            <i class="el-icon-close cursorPointer" style="color: #c40606;margin-left: 5px;font-size: 16px" @click="deleteCondition(conditionCase)"></i>
        </div>
        <div slot="footer" class="dialog-footer">
            <el-button type="primary" size="small" @click="loadConditionCaseInfo()">OK</el-button>
        </div>
    </el-dialog>

    <el-dialog title="Condition Case" :visible.sync="conditionCaseDialog" width="30%">
        <h5>Operator:</h5>
        <el-radio-group v-model="caseConfig.operator" style="margin-left: 10px">
            <el-radio v-if="conditionConfig.format=='number'" :label="'>'"> > </el-radio>
            <el-radio v-if="conditionConfig.format=='number'" :label="'<'"> < </el-radio>
            <el-radio v-if="conditionConfig.format=='number'" :label="'>='"> >= </el-radio>
            <el-radio v-if="conditionConfig.format=='number'" :label="'<='"> <= </el-radio>
            <el-radio :label="'=='"> == </el-radio>
            <el-radio :label="'!='"> != </el-radio>
        </el-radio-group>
        <h5>Standard:</h5>
        <el-input v-model="caseConfig.standard" size="mini"></el-input>
        <h5>Relation:</h5>
        <el-radio-group v-model="caseConfig.relation" style="margin-left: 10px">
            <el-radio :label="'and'"> and </el-radio>
            <el-radio :label="'or'"> or </el-radio>
        </el-radio-group>
        <div slot="footer" class="dialog-footer">
            <el-button type="primary" size="small" v-if="editCase==-1 " @click="addConditionCaseConfirm(caseConfig)">Add</el-button>
            <el-button type="primary" size="small" v-else @click="editConditionConfirm(caseConfig)">Edit</el-button>
        </div>
    </el-dialog>

    <el-dialog :title="detailComptbModel.name" :visible.sync="computableModelDetailDialog" width="40%">
        <div class="flexJustStart">
            <div class="img">
                <img :src="(detailComptbModel.image==''||detailComptbModel.image==null)?'/GeoProblemSolving/img/model/calcModel.png':'/GeoProblemSolving/img'+detailComptbModel.image">
            </div>
            <div class="comptlModelDetail" style="padding: 10px 15px">
                <p class="noMargin" style="min-height: 50px">{{detailComptbModel.description}}</p>
                <p v-if="detailComptbModel.detail!=undefined&&detailComptbModel.detail!=''"
                   class="noMargin"
                   style="font-weight: 600;margin-top: 10px"
                >Detailed:</p>
                <div v-if="detailComptbModel.detail!=undefined&&detailComptbModel.detail!=''"
                     id="detail" v-html="detailComptbModel.detail">
                </div>
                <p class="cursorPointer" style="margin-top: 10px"><span style="font-weight: 600">Contributor: </span>
                    <a @click="window.open('/profile/' + detailComptbModel.authorId)">{{detailComptbModel.authorName}}</a></p>

            </div>

        </div>
        <p class="cursorPointer text-center" style="margin-top: 10px">
            <a style="font-style: italic;text-decoration: underline" @click="window.open('/computableModel/' + detailComptbModel.oid)" >view in computable model page</a>
        </p>
        <div slot="footer" class="dialog-footer">

            <el-button type="primary" size="small" @click="addModelToMxgraph(detailComptbModel)">Add to Graph</el-button>
            <el-button type="primary" plain size="small" @click="computableModelDetailDialog=false">Close</el-button>
        </div>

    </el-dialog>

    <el-dialog :title="detailDataMethod.name" :visible.sync="dataMethodDetailDialog" width="40%">
        <div class="flexJustStart">
            <div class="img">
                <img :src="(detailDataMethod.image==''||detailDataMethod.image==null)?'/GeoProblemSolving/img/model/calcModel.png':'/GeoProblemSolving/img'+detailDataMethod.image">
            </div>
            <div class="comptlModelDetail" style="padding: 10px 15px">
                <p class="noMargin" style="min-height: 50px">{{detailDataMethod.description}}</p>
                <p v-if="detailDataMethod.detail!=undefined&&detailDataMethod.detail!=''"
                   class="noMargin"
                   style="font-weight: 600;margin-top: 10px"
                >Detailed:</p>
                <div v-if="detailDataMethod.detail!=undefined&&detailDataMethod.detail!=''"
                     v-html="detailDataMethod.detail">
                </div>
                <p class="cursorPointer" style="margin-top: 10px"><span style="font-weight: 600">Contributor: </span>
                    <a @click="window.open('/profile/' + detailDataMethod.authorId)">{{detailDataMethod.authorName}}</a></p>

            </div>

        </div>
        <p class="cursorPointer text-center" style="margin-top: 10px">
            <a style="font-style: italic;text-decoration: underline" @click="window.open('/dataApplication/' + detailDataMethod.oid)" >view in data method page</a>
        </p>
        <div slot="footer" class="dialog-footer">

            <el-button type="primary" size="small" @click="addDataMethodToMxgraph(detailComptbModel)">Add to Graph</el-button>
            <el-button type="primary" plain size="small" @click="dataMethodDetailDialog=false">Close</el-button>
        </div>

    </el-dialog>

    <el-dialog title="Invoke Services" :visible.sync="invokeServiceDialog">
        <p style="text-align: center">This data method has several services, you can select one to add into your integrated task.</p>
        <a class="cursorPointer" @click="checkDataMethodServicesStatus(configDataMethod.invokeServices)"
        style="width: 182px;display: block;margin: auto">
            <i class="fa fa-refresh" aria-hidden="true"></i>
            <span>Refresh status of services</span>
        </a>
        <el-table class="wzhScrollbar" :data="configDataMethod.invokeServices" row-key="serviceId" style="width: 100%;max-height: 485px" v-loading="invokeServiceLoading" >
            <el-table-column prop="name" label="Name"></el-table-column>
            <el-table-column prop="method" label="Method Type" width="160"></el-table-column>
            <!--                            <el-table-column prop="serviceId" label = "suiyi" style="display: none"></el-table-column>-->
            <el-table-column
                    prop="isPortal"
                    label="Origin"
                    width="110"
            >
                <template slot-scope="scope">
                    <el-tag
                            :type="scope.row.isPortal == true ? 'primary' : 'success'"
                            disable-transitions v-if="scope.row.isPortal == true">Portal</el-tag>
                    <el-tag
                            :type="scope.row.isPortal == true ? 'primary' : 'success'"
                            disable-transitions v-if="scope.row.isPortal == false">Other Node</el-tag>
                </template>
            </el-table-column>
            <el-table-column label="Status">
                <template slot-scope="scope">
                    <el-tag
                            :type="scope.row.status == -1 ? 'info' : 'success'"
                            disable-transitions v-if="scope.row.status == -1">offline</el-tag>
                    <el-tag
                            :type="scope.row.status == -1 ? 'info' : 'success'"
                            disable-transitions v-else>online</el-tag>
                </template>
            </el-table-column>
            <el-table-column label="Operation">
                <template slot-scope="scope">
                    <el-button @click = "selectInvokeService(scope.row)" type="success" size="small" round class="invokeBtn">
                        Select
                    </el-button>
                </template>
            </el-table-column>
        </el-table>
    </el-dialog>

    <el-dialog title="Computable Model" :visible.sync="computableModelTableDialog" width="55%">
        <div v-loading="modelTableLoading">
            <div class="flexRow flexJustCenter" style="margin-top: 12px; margin-left: 10px;">
                <div class="flexRow flexColCenter" style="width: 50%;mini-width:250px">
                    <input placeholder="Search for ..." v-model="searchText" class="noBorderInput miniInput" @keyup.enter="searchDeployedModel(1)">
                </div>
                <i class="fa fa-search cursorPointer" style="font-size: 18px;" @click="searchDeployedModel(1)"></i>
            </div>
            <p v-if="!inSearch" style="margin-left: 18px;font-style: italic;color: #999999">Recently used.</p>
            <p v-else style="margin-left: 18px;font-style: italic;color: #999999">Search result.</p>
            <el-table style="padding-left:10px "
                      :data="deployedModel">
                <el-table-column
                        label="Name"
                >
                    <template slot-scope="scope">
                        <a class="cursorPointer" @click ="window.open('/computableModel/'+scope.row.oid)">{{scope.row.name}}</a>
                    </template>
                </el-table-column>
                <el-table-column
                        label="Contributor"
                        prop="author"
                >
                    <template slot-scope="scope">
                        <a class="cursorPointer" @click="viewUser(scope.row.authorId)">{{scope.row.author}}</a>
                    </template>
                </el-table-column>
                <el-table-column
                        label="Option"
                        width="180"
                >
                    <template slot-scope="scope">
                        <el-button size="mini" round type="success" @click="selectModel(scope.row.oid)">select</el-button>
                    </template>
                </el-table-column>
            </el-table>
            <el-pagination style="text-align: center;margin-top:20px"
                           @current-change="handlePageChangeDeployedModel"
                           :current-page="pageOption2.currentPage"
                           layout="total, prev, pager, next, jumper"
                           :page-size="6"
                           :total="pageOption2.total">
            </el-pagination>

        </div>
        <!--        <div style="max-height:900px;max-width:1600px" :style="'background-image:url('+previewUrl+')'"></div>-->

    </el-dialog>

    <el-dialog title="Data Method" :visible.sync="dataMethodTableDialog" width="55%">
        <div v-loading="dataMethodLoading">
            <div class="flexRow flexJustCenter" style="margin-top: 12px; margin-left: 10px;">
                <div class="flexRow flexColCenter" style="width: 50%;mini-width:250px">
                    <input placeholder="Search for ..." v-model="searchDataMethodText" class="noBorderInput miniInput" @keyup.enter="searchDataMethod(1)">
                </div>
                <i class="fa fa-search cursorPointer" style="font-size: 18px;" @click="searchDataMethod(1)"></i>
            </div>
            <p style="margin-left: 18px;font-style: italic;color: #999999">Search result.</p>
            <el-table style="padding-left:10px "
                      :data="dataMethodList">
                <el-table-column
                        label="Name"
                >
                    <template slot-scope="scope">
                        <a class="cursorPointer" @click ="window.open('/dataApplication/'+scope.row.oid)">{{scope.row.name}}</a>
                    </template>
                </el-table-column>
                <el-table-column
                        label="Contributor"
                        prop="author"
                >
                    <template slot-scope="scope">
                        <a class="cursorPointer" @click="viewUser(scope.row.authorId)">{{scope.row.authorName}}</a>
                    </template>
                </el-table-column>
                <el-table-column
                        label="Option"
                        width="180"
                >
                    <template slot-scope="scope">
                        <el-button size="mini" round type="success" @click="addDataMethodToMxgraph(scope.row)">select</el-button>
                    </template>
                </el-table-column>
            </el-table>
            <el-pagination style="text-align: center;margin-top:20px"
                           @current-change="handlePageChangeDataMethod"
                           :current-page="pageOption3.currentPage"
                           layout="total, prev, pager, next, jumper"
                           :page-size="6"
                           :total="pageOption2.total">
            </el-pagination>

        </div>

    </el-dialog>

    <el-dialog title="Integrated Task Xml">
        <div class="wzhScrollbar" style="max-height: 500px">
            <el-input type="text" v-model="integratedTaskXml"></el-input>
        </div>
    </el-dialog>

    <el-dialog title="Preview Result" :visible.sync="previewDialog" width="55%">
        <div class="flexCenter">
            <img :src="previewUrl" style="max-height:900px;max-width:1600px">
        </div>
<!--        <div style="max-height:900px;max-width:1600px" :style="'background-image:url('+previewUrl+')'"></div>-->

    </el-dialog>

    <div th:replace="fragments/footer :: footer-mini"></div>
</div>
</body>
<!-- <template th:replace="modules/userDataSpaceModule :: userDataSpaceModule"></template> -->
<!-- <script src="/GeoProblemSolving/js/modules/userDataSpaceModule.js"></script> -->
<template th:replace="modules/computableModelList :: computableModel"></template>
<script src="/GeoProblemSolving/js/modules/computableModelList.js"></script>
<!--<template th:replace="modules/dataProcessingList :: dataProcessingList"></template>-->
<!--<script src="/GeoProblemSolving/js/modules/dataProcessingList.js"></script>-->


<script src="/GeoProblemSolving/js/common/jquery-3.3.1.min.js"></script>
<script src="/GeoProblemSolving/js/page/integratedModeling_new.js"></script>
<!--<script src="GeoProblemSolving/KnowledgeGraph/js/echarts/extension/dataTool.js"></script>-->

<script src="/GeoProblemSolving/element-ui/index.js"></script>

<script src="/GeoProblemSolving/element-ui/umd/locale/en.js"></script>
<script src="/GeoProblemSolving/js/common/navbar.js"></script>
<!--imgUpload通用组件-->
<!-- <template th:replace="modules/imgUpload :: imgUpload"></template> -->
<!-- <script src="/GeoProblemSolving/js/modules/imgUpload.js"></script> -->
<!--<script src="/GeoProblemSolving/js/common/navbarJquery.js/"></script>-->
<script>


</script>
</html>
